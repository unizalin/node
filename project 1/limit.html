<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-database.js"></script>

  <!-- TODO: Add SDKs for Firebase products that you want to use
      https://firebase.google.com/docs/web/setup#available-libraries -->
  <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-analytics.js"></script>
 
</head>
<body>
</body>
<script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyDzxYVpzA-xFhn8WWtskqP2iYK2ghAMHY4",
    authDomain: "node-test-79f9d.firebaseapp.com",
    databaseURL: "https://node-test-79f9d-default-rtdb.firebaseio.com",
    projectId: "node-test-79f9d",
    storageBucket: "node-test-79f9d.appspot.com",
    messagingSenderId: "647933648455",
    appId: "1:647933648455:web:63d6e2b1b922b620bd1b62",
    measurementId: "G-B3Z83SXCQK"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();

  let peopleLimit = {
    "Tom":{
      "weight": 5000,
      "height": 162,
      "age" : 25,
    },
    "Billy":{
      "weight": 6000,
      "height": 172,
      "age" : 26,
    },
    "Mike":{
      "weight": 2400,
      "height": 172,
      "age" : 26,
    },
    "TED":{
      "weight": 3200,
      "height": 172,
      "age" : 26,
    },
    "ADAM":{
      "weight": 3100,
      "height": 173,
      "age" : 26,
    },
    "BILL":{
      "weight": 3300,
      "height": 174,
      "age" : 26,
    },
    "CHAW":{
      "weight": 3400,
      "height": 175,
      "age" : 26,
    },
    "ALLEN":{
      "weight": 3500,
      "height": 176,
      "age" : 26,
    },
    "VIC":{
      "weight": 3600,
      "height": 174,
      "age" : 26,
    },
    "LENA":{
      "weight": 4300,
      "height": 174,
      "age" : 26,
    }
  }
  firebase.database().ref('peopleLimit').set(peopleLimit)
  var peopleRef = firebase.database().ref('peopleLimit')
  // 路徑 >> 排序('屬性')>> 過濾 >> 讀取 >forEach 撈出資料
  peopleRef.orderByChild('weight').startAt(2400).limitToFirst(5).once('value',function(snapshot){
    console.log(snapshot.val())
    snapshot.forEach(element => {
      console.log(element.key)
      console.log(element.val())
    });
  })
  console.log(peopleRef)
</script>
</html>